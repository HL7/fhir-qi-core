{
  "resourceType": "StructureDefinition",
  "id": "qicore-condition-encounter-diagnosis",
  "extension" : [
    {
      "url" : "http://hl7.org/fhir/StructureDefinition/cqf-modelInfo-primaryCodePath",
      "valueString": "code"
    },
    {
      "url" : "http://hl7.org/fhir/StructureDefinition/cqf-modelInfo-isIncluded",
      "valueBoolean": true
    },
    {
      "url" : "http://hl7.org/fhir/StructureDefinition/cqf-modelInfo-isRetrievable",
      "valueBoolean": true
    },
    {
      "url" : "http://hl7.org/fhir/StructureDefinition/cqf-modelInfo-label",
      "valueString":"ConditionEncounterDiagnosis"
    }
  ],
  "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis",
  "version": "6.0.0",
  "name": "QICoreConditionEncounterDiagnosis",
  "title": "QICore Condition Encounter Diagnosis",
  "status": "active",
  "experimental": false,
  "date": "2022-04-20",
  "publisher": "http://www.hl7.org/Special/committees/cqi/index.cfm",
  "contact": [
    {
      "name": "Clinical Quality Information WG",
      "telecom": [
        {
          "system": "url",
          "value": "http://www.hl7.org/Special/committees/cqi"
        }
      ]
    }
  ],
  "description": "The QI-Core Condition Encounter Diagnosis Profile is based upon the US Core Condition Encounter Diagnosis Profile.   In version 5.0.0, the QI-Core Condition Profile has been split into the QI-Core Condition Encounter Diagnosis Profile and QI-Core Condition Problems and Health Concerns Profile. To promote interoperability and adoption through consistent implementation, this profile defines constraints and extensions on the Condition resource for the minimal set of data to record, search, and retrieve information about an encounter diagnosis.  It defines the core set of elements and extensions for quality rule and measure authors.",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "urn:iso:std:iso:3166",
          "code": "US"
        }
      ]
    }
  ],
  "copyright": "Used by permission of HL7 International, all rights reserved Creative Commons License",
  "fhirVersion": "4.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "Condition",
  "baseDefinition": "http://hl7.org/fhir/us/core/StructureDefinition/us-core-condition-encounter-diagnosis",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Condition.subject",
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
            "valueBoolean": true
          }
        ],
        "path": "Condition.subject",
        "short": "(QI) Who has the condition?",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient",
              "http://hl7.org/fhir/StructureDefinition/Group"
            ],
			"_targetProfile" : [
              {
                "extension" : [
                  {
                    "url" : "http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support",
                    "valueBoolean" : true
                  }
                ]
              },
              {
                "extension" : [
                  {
                    "url" : "http://hl7.org/fhir/StructureDefinition/elementdefinition-type-must-support",
                    "valueBoolean" : false
                  }
                ]
              } 
            ]
          }
        ],
		"mustSupport" : true,
        "isModifier" : false,
        "isSummary" : true
      },
      {
        "id" : "Condition.category",
        "extension" : [
          {
            "url" : "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
            "valueBoolean" : true
          }
        ],
        "path" : "Condition.category",
        "slicing" : {
          "discriminator" : [{
            "type" : "pattern",
            "path" : "$this"
          }],
          "rules" : "open"
        },
        "short" : "category codes",
        "definition" : "A category assigned to the condition.",
        "comment" : "The categorization is often highly contextual and may appear poorly differentiated or not very useful in other contexts.",
        "min" : 1,
        "max" : "*",
        "base" : {
          "path" : "Condition.category",
          "min" : 0,
          "max" : "*"
        },
        "type" : [{
          "code" : "CodeableConcept"
        }],
        "constraint" : [{
          "key" : "ele-1",
          "severity" : "error",
          "human" : "All FHIR elements must have a @value or children",
          "expression" : "hasValue() or (children().count() > id.count())",
          "xpath" : "@value|f:*|h:div",
          "source" : "http://hl7.org/fhir/StructureDefinition/Element"
        }],
        "mustSupport" : true,
        "isModifier" : false,
        "isSummary" : false,
        "binding" : {
          "extension" : [{
            "url" : "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
            "valueString" : "ConditionCategory"
          }],
          "strength" : "extensible",
          "description" : "A category assigned to the condition.",
          "valueSet" : "http://hl7.org/fhir/ValueSet/condition-category"
        },
        "mapping" : [{
          "identity" : "w5",
          "map" : "FiveWs.class"
        },
        {
          "identity" : "sct-concept",
          "map" : "< 404684003 |Clinical finding|"
        },
        {
          "identity" : "v2",
          "map" : "'problem' if from PRB-3. 'diagnosis' if from DG1 segment in PV1 message"
        },
        {
          "identity" : "rim",
          "map" : ".code"
        },
        {
          "identity" : "argonaut-dq-dstu2",
          "map" : "Condition.category"
        }]
      },
      {
        "id": "Condition.encounter",
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
            "valueBoolean": true
          }
        ],
        "path": "Condition.encounter",
        "short": "(QI) Encounter created as part of",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"
            ]
          }
        ]
      },
      {
        "id": "Condition.onset[x]",
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
            "valueBoolean": true
          }
        ],
        "path": "Condition.onset[x]",
        "short": "(QI) Estimated or actual date, date-time, or age",
        "type": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "dateTime"
          },
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "Age"
          },
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "Period"
          },
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "Range"
          }
        ]
      },
      {
        "id": "Condition.abatement[x]",
        "extension": [
          {
            "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
            "valueBoolean": true
          }
        ],
        "path": "Condition.abatement[x]",
        "short": "(QI) When in resolution/remission",
        "type": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "dateTime"
          },
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "Age"
          },
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "Period"
          },
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-keyelement",
                "valueBoolean": true
              }
            ],
            "code": "Range"
          }
        ]
      }
    ]
  }
}
